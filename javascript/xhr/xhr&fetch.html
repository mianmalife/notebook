<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>xhr</title>
</head>
<body>
    <p></p>
    <p class="fetch__p"></p>
    <h3></h3>
    <p class="page"></p>
    <img src="" alt="">
</body>
<script>
    // http code 304 未改变  无需再次请求 内容可以缓存
    const xhr = new XMLHttpRequest()
    xhr.open('GET', './data.txt')
    xhr.responseType = 'text'
    xhr.onload = function() {
        console.log(xhr)
        document.querySelector('p').textContent = xhr.response
    }
    xhr.send()
    fetch('./data.txt').then(res => {
        console.log(res, 'fetch api obj')
        res.text().then(text => {
            document.querySelector('.fetch__p').textContent = text
        })
    })
    fetch('./obj.json').then(res => res.json().then(json => {
        console.log(json)
        document.querySelector('h3').textContent = json.name
        document.querySelector('.page').textContent = json.age
    }))
    fetch('./wallhaven-g75r7d.jpg').then(res => res.blob().then(blob => {
        console.log(blob)
        const url = URL.createObjectURL(blob)
        console.log(url)
        document.querySelector('img').src = url
        document.querySelector('img').width = 400
        document.querySelector('img').height = 220
    }))
</script>
</html>